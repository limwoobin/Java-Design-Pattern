# Flyweight Pattern
클래스의 인스턴스 하나만 가지고 여러 개의 `가상 인스턴스`를 제공하고 싶을때 사용하는 패턴  
즉, 인스턴스를 가능한 대로 공유시켜 쓸데없는 new 연산자를 통한 메모리 낭비를 줄이는 방식  
많은 수의 인스턴스를 생성해야 할 때 사용할 수 있는 패턴

- 객체의 `내적 속성`과 `외적 속성` 으로 나누었을 때 객체의 `외적 속성`이 클라이언트로 부터 정의되어야함
  - 내적 속성: color
  - 외적 속성: x, y, radius

### Flyweight 의 역할
- 공유에 사용할 클래스들의 인터페이스(api)를 선언

### ConcreteFlyweight 의 역할
- Flyweight 의 내용을 정의함, 실제 공유될 객체

### FlyweightFactory 의 역할
- 해당 factory 를 사용해 Flywight의 인스턴스를 생성 또는 공유해주는 역할을 함

### Client
- 해당 패턴의 사용자


### 사용 이유
- 실행시에 객체 인스턴스의 개수를 줄여 메모리 절약 가능
- 여러 `가상` 객체의 상태를 한 곳에 집중시킬 수 있음

### 유의 사항
- 특정 인스턴스만 다른 인스턴스처럼 동작하게 하는것이 불가능
- 객체의 값 변경시 공유받은 다른 `가상`객체를 사용하는 곳에 영향을 줄 수 있음

<hr>

### 싱글톤 패턴과의 차이점 ?
예제의 Circle 클래스는 color 별로 인스턴스가 생성될 수 있음, 그리고 color 별로 인스턴스를 공유함  
다만 싱글톤 패턴의 경우 종류에 상관없이 Circle 클래스 단 하나만 생성할 수 있음  
- 싱글톤 패턴은 클래스 자체가 오직 한개의 인스턴스만 가질 수 있게끔 제어함
- Flyweight 는 Factory에서 클래스 인스턴스를 제어함